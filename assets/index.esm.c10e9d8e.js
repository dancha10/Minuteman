var vt=Object.defineProperty,bt=Object.defineProperties;var _t=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var Ne=(e,r,t)=>r in e?vt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,b=(e,r)=>{for(var t in r||(r={}))Ie.call(r,t)&&Ne(e,t,r[t]);if(ie)for(var t of ie(r))qe.call(r,t)&&Ne(e,t,r[t]);return e},N=(e,r)=>bt(e,_t(r));var ne=(e,r)=>{var t={};for(var i in e)Ie.call(e,i)&&r.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&ie)for(var i of ie(e))r.indexOf(i)<0&&qe.call(e,i)&&(t[i]=e[i]);return t};import{m as k}from"./vendor.5847b7f8.js";var te=e=>e.type==="checkbox",J=e=>e instanceof Date,U=e=>e==null;const Ye=e=>typeof e=="object";var O=e=>!U(e)&&!Array.isArray(e)&&Ye(e)&&!J(e),Ze=e=>O(e)&&e.target?te(e.target)?e.target.checked:e.target.value:e,Ft=e=>e.substring(0,e.search(/.\d/))||e,et=(e,r)=>[...e].some(t=>Ft(r)===t),ye=e=>Array.isArray(e)?e.filter(Boolean):[],S=e=>e===void 0,f=(e,r,t)=>{if(!r||!O(e))return t;const i=ye(r.split(/[,[\].]+?/)).reduce((l,o)=>U(l)?l:l[o],e);return S(i)||i===e?S(e[r])?t:e[r]:i};const ue={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},I={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},H={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},At=k.createContext(null),Ee=()=>k.useContext(At);var tt=(e,r,t,i=!0)=>{const l={};for(const o in e)Object.defineProperty(l,o,{get:()=>{const y=o;return r[y]!==I.all&&(r[y]=!i||I.all),t&&(t[y]=!0),e[y]}});return l},B=e=>O(e)&&!Object.keys(e).length,rt=(e,r,t)=>{const o=e,{name:i}=o,l=ne(o,["name"]);return B(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(y=>r[y]===(!t||I.all))},le=e=>Array.isArray(e)?e:[e],st=(e,r,t)=>t&&r?e===r:!e||!r||e===r||le(e).some(i=>i&&(i.startsWith(r)||r.startsWith(i)));function Ce(e){const r=k.useRef(e);r.current=e,k.useEffect(()=>{const t=l=>{l&&l.unsubscribe()},i=!e.disabled&&r.current.subject.subscribe({next:r.current.callback});return()=>t(i)},[e.disabled])}function Vt(e){const r=Ee(),{control:t=r.control,disabled:i,name:l,exact:o}=e||{},[y,v]=k.useState(t._formState),m=k.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=k.useRef(l),w=k.useRef(!0);A.current=l;const F=k.useCallback(h=>w.current&&st(A.current,h.name,o)&&rt(h,m.current)&&v(b(b({},t._formState),h)),[t,o]);return Ce({disabled:i,callback:F,subject:t._subjects.state}),k.useEffect(()=>(w.current=!0,()=>{w.current=!1}),[]),tt(y,t._proxyFormState,m.current,!1)}var W=e=>typeof e=="string",it=(e,r,t,i)=>{const l=Array.isArray(e);return W(e)?(i&&r.watch.add(e),f(t,e)):l?e.map(o=>(i&&r.watch.add(o),f(t,o))):(i&&(r.watchAll=!0),t)},he=e=>typeof e=="function",Oe=e=>{for(const r in e)if(he(e[r]))return!0;return!1};function xt(e){const r=Ee(),{control:t=r.control,name:i,defaultValue:l,disabled:o,exact:y}=e||{},v=k.useRef(i);v.current=i;const m=k.useCallback(F=>{if(st(v.current,F.name,y)){const h=it(v.current,t._names,F.values||t._formValues);w(S(v.current)||O(h)&&!Oe(h)?b({},h):Array.isArray(h)?[...h]:S(h)?l:h)}},[t,y,l]);Ce({disabled:o,subject:t._subjects.watch,callback:m});const[A,w]=k.useState(S(l)?t._getWatch(i):l);return k.useEffect(()=>{t._removeUnmounted()}),A}function mt(e){const r=Ee(),{name:t,control:i=r.control,shouldUnregister:l}=e,o=et(i._names.array,t),y=xt({control:i,name:t,defaultValue:f(i._formValues,t,f(i._defaultValues,t,e.defaultValue)),exact:!0}),v=Vt({control:i,name:t}),m=k.useRef(i.register(t,N(b({},e.rules),{value:y})));return k.useEffect(()=>{const A=(w,F)=>{const h=f(i._fields,w);h&&(h._f.mount=F)};return A(t,!0),()=>{const w=i._options.shouldUnregister||l;(o?w&&!i._stateFlags.action:w)?i.unregister(t):A(t,!1)}},[t,i,o,l]),{field:{name:t,value:y,onChange:k.useCallback(A=>{m.current.onChange({target:{value:Ze(A),name:t},type:ue.CHANGE})},[t]),onBlur:k.useCallback(()=>{m.current.onBlur({target:{value:f(i._formValues,t),name:t},type:ue.BLUR})},[t,i]),ref:k.useCallback(A=>{const w=f(i._fields,t);A&&w&&A.focus&&(w._f.ref={focus:()=>A.focus(),setCustomValidity:F=>A.setCustomValidity(F),reportValidity:()=>A.reportValidity()})},[t,i._fields])},formState:v,fieldState:i.getFieldState(t,v)}}const Nt=e=>e.render(mt(e));var wt=(e,r,t,i,l)=>r?N(b({},t[e]),{types:N(b({},t[e]&&t[e].types?t[e].types:{}),{[i]:l||!0})}):{},Re=e=>/^\w*$/.test(e),nt=e=>ye(e.replace(/["|']|\]/g,"").split(/\.|\[/));function D(e,r,t){let i=-1;const l=Re(r)?[r]:nt(r),o=l.length,y=o-1;for(;++i<o;){const v=l[i];let m=t;if(i!==y){const A=e[v];m=O(A)||Array.isArray(A)?A:isNaN(+l[i+1])?{}:[]}e[v]=m,e=e[v]}return e}const Se=(e,r,t)=>{for(const l of t||Object.keys(e)){const o=f(e,l);if(o){const i=o,{_f:y}=i,v=ne(i,["_f"]);if(y&&r(y.name)){if(y.ref.focus&&S(y.ref.focus()))break;if(y.refs){y.refs[0].focus();break}}else O(v)&&Se(v,r)}}};var We=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));function G(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(t||O(e)){r=t?[]:{};for(const i in e){if(he(e[i])){r=e;break}r[i]=G(e[i])}}else return e;return r}function me(){let e=[];return{get observers(){return e},next:l=>{for(const o of e)o.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(o=>o!==l)}}),unsubscribe:()=>{e=[]}}}var oe=e=>U(e)||!Ye(e);function Q(e,r){if(oe(e)||oe(r))return e===r;if(J(e)&&J(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const l of t){const o=e[l];if(!i.includes(l))return!1;if(l!=="ref"){const y=r[l];if(J(o)&&J(y)||O(o)&&O(y)||Array.isArray(o)&&Array.isArray(y)?!Q(o,y):o!==y)return!1}}return!0}var je=e=>({isOnSubmit:!e||e===I.onSubmit,isOnBlur:e===I.onBlur,isOnChange:e===I.onChange,isOnAll:e===I.all,isOnTouch:e===I.onTouched}),ce=e=>typeof e=="boolean",Le=e=>e.type==="file",De=e=>e instanceof HTMLElement,lt=e=>e.type==="select-multiple",Ue=e=>e.type==="radio",kt=e=>Ue(e)||te(e),He=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined",we=e=>De(e)&&e.isConnected;function St(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=S(e)?i++:e[r[i++]];return e}function R(e,r){const t=Re(r)?[r]:nt(r),i=t.length==1?e:St(e,t),l=t[t.length-1];let o;i&&delete i[l];for(let y=0;y<t.slice(0,-1).length;y++){let v=-1,m;const A=t.slice(0,-(y+1)),w=A.length-1;for(y>0&&(o=e);++v<A.length;){const F=A[v];m=m?m[F]:e[F],w===v&&(O(m)&&B(m)||Array.isArray(m)&&!m.filter(h=>!S(h)).length)&&(o?delete o[F]:delete e[F]),o=m}}return e}function fe(e,r={}){const t=Array.isArray(e);if(O(e)||t)for(const i in e)Array.isArray(e[i])||O(e[i])&&!Oe(e[i])?(r[i]=Array.isArray(e[i])?[]:{},fe(e[i],r[i])):U(e[i])||(r[i]=!0);return r}function at(e,r,t){const i=Array.isArray(e);if(O(e)||i)for(const l in e)Array.isArray(e[l])||O(e[l])&&!Oe(e[l])?S(r)||oe(t[l])?t[l]=Array.isArray(e[l])?fe(e[l],[]):b({},fe(e[l])):at(e[l],U(r)?{}:r[l],t[l]):t[l]=!Q(e[l],r[l]);return t}var $e=(e,r)=>at(e,r,fe(r));const Ke={value:!1,isValid:!1},Ge={value:!0,isValid:!0};var ut=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?Ge:{value:e[0].value,isValid:!0}:Ge:Ke}return Ke},ot=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>S(e)?e:r?e===""?NaN:+e:t&&W(e)?new Date(e):i?i(e):e;const ze={isValid:!1,value:null};var ct=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ze):ze;function ke(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Le(r)?r.files:Ue(r)?ct(e.refs).value:lt(r)?[...r.selectedOptions].map(({value:t})=>t):te(r)?ut(e.refs).value:ot(S(r.value)?e.ref.value:r.value,e)}var Dt=(e,r,t,i)=>{const l={};for(const o of e){const y=f(r,o);y&&D(l,o,y._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},de=e=>e instanceof RegExp,ee=e=>S(e)?void 0:de(e)?e.source:O(e)?de(e.value)?e.value.source:e.value:e,Et=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Je(e,r,t){const i=f(e,t);if(i||Re(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const o=l.join("."),y=f(r,o),v=f(e,o);if(y&&!Array.isArray(y)&&t!==o)return{name:t};if(v&&v.type)return{name:o,error:v};l.pop()}return{name:t}}var Ct=(e,r,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,Ot=(e,r)=>!ye(f(e,r)).length&&R(e,r),ae=e=>W(e)||k.isValidElement(e);function Qe(e,r,t="validate"){if(ae(e)||Array.isArray(e)&&e.every(ae)||ce(e)&&!e)return{type:t,message:ae(e)?e:"",ref:r}}var z=e=>O(e)&&!de(e)?e:{value:e,message:""},Xe=async(e,r,t,i)=>{const{ref:l,refs:o,required:y,maxLength:v,minLength:m,min:A,max:w,pattern:F,validate:h,name:P,valueAsNumber:ge,mount:re,disabled:ve}=e._f;if(!re||ve)return{};const L=o?o[0]:l,j=V=>{i&&L.reportValidity&&(L.setCustomValidity(ce(V)?"":V||" "),L.reportValidity())},C={},X=Ue(l),Y=te(l),be=X||Y,q=(ge||Le(l))&&!l.value||r===""||Array.isArray(r)&&!r.length,K=wt.bind(null,P,t,C),$=(V,_,E,T=H.maxLength,M=H.minLength)=>{const Z=V?_:E;C[P]=b({type:V?T:M,message:Z,ref:l},K(V?T:M,Z))};if(y&&(!be&&(q||U(r))||ce(r)&&!r||Y&&!ut(o).isValid||X&&!ct(o).isValid)){const{value:V,message:_}=ae(y)?{value:!!y,message:y}:z(y);if(V&&(C[P]=b({type:H.required,message:_,ref:L},K(H.required,_)),!t))return j(_),C}if(!q&&(!U(A)||!U(w))){let V,_;const E=z(w),T=z(A);if(isNaN(r)){const M=l.valueAsDate||new Date(r);W(E.value)&&(V=M>new Date(E.value)),W(T.value)&&(_=M<new Date(T.value))}else{const M=l.valueAsNumber||+r;U(E.value)||(V=M>E.value),U(T.value)||(_=M<T.value)}if((V||_)&&($(!!V,E.message,T.message,H.max,H.min),!t))return j(C[P].message),C}if((v||m)&&!q&&W(r)){const V=z(v),_=z(m),E=!U(V.value)&&r.length>V.value,T=!U(_.value)&&r.length<_.value;if((E||T)&&($(E,V.message,_.message),!t))return j(C[P].message),C}if(F&&!q&&W(r)){const{value:V,message:_}=z(F);if(de(V)&&!r.match(V)&&(C[P]=b({type:H.pattern,message:_,ref:l},K(H.pattern,_)),!t))return j(_),C}if(h){if(he(h)){const V=await h(r),_=Qe(V,L);if(_&&(C[P]=b(b({},_),K(H.validate,_.message)),!t))return j(_.message),C}else if(O(h)){let V={};for(const _ in h){if(!B(V)&&!t)break;const E=Qe(await h[_](r),L,_);E&&(V=b(b({},E),K(_,E.message)),j(E.message),t&&(C[P]=V))}if(!B(V)&&(C[P]=b({ref:L},V),!t))return C}}return j(!0),C};const Rt={mode:I.onSubmit,reValidateMode:I.onChange,shouldFocusError:!0};function Lt(e={}){let r=b(b({},Rt),e),t={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},l=G(r.defaultValues)||{},o=r.shouldUnregister?{}:G(l),y={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},m,A=0,w={};const F={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:me(),array:me(),state:me()},P=je(r.mode),ge=je(r.reValidateMode),re=r.criteriaMode===I.all,ve=(s,n)=>(...a)=>{clearTimeout(A),A=window.setTimeout(()=>s(...a),n)},L=async s=>{let n=!1;return F.isValid&&(n=r.resolver?B((await q()).errors):await $(i,!0),!s&&n!==t.isValid&&(t.isValid=n,h.state.next({isValid:n}))),n},j=(s,n=[],a,c,g=!0,u=!0)=>{if(c&&a){if(y.action=!0,u&&Array.isArray(f(i,s))){const d=a(f(i,s),c.argA,c.argB);g&&D(i,s,d)}if(F.errors&&u&&Array.isArray(f(t.errors,s))){const d=a(f(t.errors,s),c.argA,c.argB);g&&D(t.errors,s,d),Ot(t.errors,s)}if(F.touchedFields&&u&&Array.isArray(f(t.touchedFields,s))){const d=a(f(t.touchedFields,s),c.argA,c.argB);g&&D(t.touchedFields,s,d)}F.dirtyFields&&(t.dirtyFields=$e(l,o)),h.state.next({isDirty:_(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(o,s,n)},C=(s,n)=>(D(t.errors,s,n),h.state.next({errors:t.errors})),X=(s,n,a,c)=>{const g=f(i,s);if(g){const u=f(o,s,S(a)?f(l,s):a);S(u)||c&&c.defaultChecked||n?D(o,s,n?u:ke(g._f)):M(s,u),y.mount&&L()}},Y=(s,n,a,c,g)=>{let u=!1;const d={name:s},x=f(t.touchedFields,s);if(F.isDirty){const p=t.isDirty;t.isDirty=d.isDirty=_(),u=p!==d.isDirty}if(F.dirtyFields&&(!a||c)){const p=f(t.dirtyFields,s);Q(f(l,s),n)?R(t.dirtyFields,s):D(t.dirtyFields,s,!0),d.dirtyFields=t.dirtyFields,u=u||p!==f(t.dirtyFields,s)}return a&&!x&&(D(t.touchedFields,s,a),d.touchedFields=t.touchedFields,u=u||F.touchedFields&&x!==a),u&&g&&h.state.next(d),u?d:{}},be=async(s,n,a,c,g)=>{const u=f(t.errors,n),d=F.isValid&&t.isValid!==a;if(e.delayError&&c?(m=m||ve(C,e.delayError),m(n,c)):(clearTimeout(A),c?D(t.errors,n,c):R(t.errors,n)),((c?!Q(u,c):u)||!B(g)||d)&&!s){const x=N(b(b({},g),d?{isValid:a}:{}),{errors:t.errors,name:n});t=b(b({},t),x),h.state.next(x)}w[n]--,F.isValidating&&!Object.values(w).some(x=>x)&&(h.state.next({isValidating:!1}),w={})},q=async s=>r.resolver?await r.resolver(b({},o),r.context,Dt(s||v.mount,i,r.criteriaMode,r.shouldUseNativeValidation)):{},K=async s=>{const{errors:n}=await q();if(s)for(const a of s){const c=f(n,a);c?D(t.errors,a,c):R(t.errors,a)}else t.errors=n;return n},$=async(s,n,a={valid:!0})=>{for(const g in s){const u=s[g];if(u){const c=u,{_f:d}=c,x=ne(c,["_f"]);if(d){const p=await Xe(u,f(o,d.name),re,r.shouldUseNativeValidation);if(p[d.name]&&(a.valid=!1,n))break;n||(p[d.name]?D(t.errors,d.name,p[d.name]):R(t.errors,d.name))}x&&await $(x,n,a)}}return a.valid},V=()=>{for(const s of v.unMount){const n=f(i,s);n&&(n._f.refs?n._f.refs.every(a=>!we(a)):!we(n._f.ref))&&Ae(s)}v.unMount=new Set},_=(s,n)=>(s&&n&&D(o,s,n),!Q(Me(),l)),E=(s,n,a)=>{const c=b({},y.mount?o:S(n)?l:W(s)?{[s]:n}:n);return it(s,v,c,a)},T=s=>ye(f(y.mount?o:l,s,e.shouldUnregister?f(l,s,[]):[])),M=(s,n,a={})=>{const c=f(i,s);let g=n;if(c){const u=c._f;u&&(!u.disabled&&D(o,s,ot(n,u)),g=He&&De(u.ref)&&U(n)?"":n,lt(u.ref)?[...u.ref.options].forEach(d=>d.selected=g.includes(d.value)):u.refs?te(u.ref)?u.refs.length>1?u.refs.forEach(d=>!d.disabled&&(d.checked=Array.isArray(g)?!!g.find(x=>x===d.value):g===d.value)):u.refs[0]&&(u.refs[0].checked=!!g):u.refs.forEach(d=>d.checked=d.value===g):Le(u.ref)?u.ref.value="":(u.ref.value=g,u.ref.type||h.watch.next({name:s})))}(a.shouldDirty||a.shouldTouch)&&Y(s,g,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&Fe(s)},Z=(s,n,a)=>{for(const c in n){const g=n[c],u=`${s}.${c}`,d=f(i,u);(v.array.has(s)||!oe(g)||d&&!d._f)&&!J(g)?Z(u,g,a):M(u,g,a)}},_e=(s,n,a={})=>{const c=f(i,s),g=v.array.has(s),u=G(n);D(o,s,u),g?(h.array.next({name:s,values:o}),(F.isDirty||F.dirtyFields)&&a.shouldDirty&&(t.dirtyFields=$e(l,o),h.state.next({name:s,dirtyFields:t.dirtyFields,isDirty:_(s,u)}))):c&&!c._f&&!U(u)?Z(s,u,a):M(s,u,a),We(s,v)&&h.state.next({}),h.watch.next({name:s})},Te=async s=>{const n=s.target;let a=n.name;const c=f(i,a);if(c){let g,u;const d=n.type?ke(c._f):Ze(s),x=s.type===ue.BLUR||s.type===ue.FOCUS_OUT,p=!Et(c._f)&&!r.resolver&&!f(t.errors,a)&&!c._f.deps||Ct(x,f(t.touchedFields,a),t.isSubmitted,ge,P),se=We(a,v,x);D(o,a,d),x?c._f.onBlur&&c._f.onBlur(s):c._f.onChange&&c._f.onChange(s);const xe=Y(a,d,x,!1),ht=!B(xe)||se;if(!x&&h.watch.next({name:a,type:s.type}),p)return ht&&h.state.next(b({name:a},se?{}:xe));if(!x&&se&&h.state.next({}),w[a]=(w[a],1),h.state.next({isValidating:!0}),r.resolver){const{errors:Be}=await q([a]),gt=Je(t.errors,i,a),Pe=Je(Be,i,gt.name||a);g=Pe.error,a=Pe.name,u=B(Be)}else g=(await Xe(c,f(o,a),re,r.shouldUseNativeValidation))[a],u=await L(!0);c._f.deps&&Fe(c._f.deps),be(!1,a,u,g,xe)}},Fe=async(s,n={})=>{let a,c;const g=le(s);if(h.state.next({isValidating:!0}),r.resolver){const u=await K(S(s)?s:g);a=B(u),c=s?!g.some(d=>f(u,d)):a}else s?(c=(await Promise.all(g.map(async u=>{const d=f(i,u);return await $(d&&d._f?{[u]:d}:d)}))).every(Boolean),!(!c&&!t.isValid)&&L()):c=a=await $(i);return h.state.next(N(b(b({},!W(s)||F.isValid&&a!==t.isValid?{}:{name:s}),r.resolver?{isValid:a}:{}),{errors:t.errors,isValidating:!1})),n.shouldFocus&&!c&&Se(i,u=>f(t.errors,u),s?g:v.mount),c},Me=s=>{const n=b(b({},l),y.mount?o:{});return S(s)?n:W(s)?f(n,s):s.map(a=>f(n,a))},pe=(s,n)=>({invalid:!!f((n||t).errors,s),isDirty:!!f((n||t).dirtyFields,s),isTouched:!!f((n||t).touchedFields,s),error:f((n||t).errors,s)}),ft=s=>{s?le(s).forEach(n=>R(t.errors,n)):t.errors={},h.state.next({errors:t.errors})},dt=(s,n,a)=>{const c=(f(i,s,{_f:{}})._f||{}).ref;D(t.errors,s,N(b({},n),{ref:c})),h.state.next({name:s,errors:t.errors,isValid:!1}),a&&a.shouldFocus&&c&&c.focus&&c.focus()},yt=(s,n)=>he(s)?h.watch.subscribe({next:a=>s(E(void 0,n),a)}):E(s,n,!0),Ae=(s,n={})=>{for(const a of s?le(s):v.mount)v.mount.delete(a),v.array.delete(a),f(i,a)&&(n.keepValue||(R(i,a),R(o,a)),!n.keepError&&R(t.errors,a),!n.keepDirty&&R(t.dirtyFields,a),!n.keepTouched&&R(t.touchedFields,a),!r.shouldUnregister&&!n.keepDefaultValue&&R(l,a));h.watch.next({}),h.state.next(b(b({},t),n.keepDirty?{isDirty:_()}:{})),!n.keepIsValid&&L()},Ve=(s,n={})=>{let a=f(i,s);const c=ce(n.disabled);return D(i,s,{_f:b(N(b({},a&&a._f?a._f:{ref:{name:s}}),{name:s,mount:!0}),n)}),v.mount.add(s),a?c&&D(o,s,n.disabled?void 0:f(o,s,ke(a._f))):X(s,!0,n.value),N(b(b({},c?{disabled:n.disabled}:{}),r.shouldUseNativeValidation?{required:!!n.required,min:ee(n.min),max:ee(n.max),minLength:ee(n.minLength),maxLength:ee(n.maxLength),pattern:ee(n.pattern)}:{}),{name:s,onChange:Te,onBlur:Te,ref:g=>{if(g){Ve(s,n),a=f(i,s);const u=S(g.value)&&g.querySelectorAll&&g.querySelectorAll("input,select,textarea")[0]||g,d=kt(u),x=a._f.refs||[];if(d?x.find(p=>p===u):u===a._f.ref)return;D(i,s,{_f:b(b({},a._f),d?{refs:[...x.filter(we),u],ref:{type:u.type,name:s}}:{ref:u})}),X(s,!1,void 0,u)}else a=f(i,s,{}),a._f&&(a._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(et(v.array,s)&&y.action)&&v.unMount.add(s)}})};return{control:{register:Ve,unregister:Ae,getFieldState:pe,_executeSchema:q,_getWatch:E,_getDirty:_,_updateValid:L,_removeUnmounted:V,_updateFieldArray:j,_getFieldArray:T,_subjects:h,_proxyFormState:F,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return y},set _stateFlags(s){y=s},get _defaultValues(){return l},get _names(){return v},set _names(s){v=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r=b(b({},r),s)}},trigger:Fe,register:Ve,handleSubmit:(s,n)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=!0,g=G(o);h.state.next({isSubmitting:!0});try{if(r.resolver){const{errors:u,values:d}=await q();t.errors=u,g=d}else await $(i);B(t.errors)&&Object.keys(t.errors).every(u=>f(g,u))?(h.state.next({errors:{},isSubmitting:!0}),await s(g,a)):(n&&await n(b({},t.errors),a),r.shouldFocusError&&Se(i,u=>f(t.errors,u),v.mount))}catch(u){throw c=!1,u}finally{t.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors)&&c,submitCount:t.submitCount+1,errors:t.errors})}},watch:yt,setValue:_e,getValues:Me,reset:(s,n={})=>{const a=s||l,c=G(a),g=s&&!B(s)?c:l;if(n.keepDefaultValues||(l=a),!n.keepValues){if(He&&S(s))for(const u of v.mount){const d=f(i,u);if(d&&d._f){const x=Array.isArray(d._f.refs)?d._f.refs[0]:d._f.ref;try{De(x)&&x.closest("form").reset();break}catch{}}}o=e.shouldUnregister?n.keepDefaultValues?G(l):{}:c,i={},h.array.next({values:g}),h.watch.next({values:g})}v={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!F.isValid||!!n.keepIsValid,y.watch=!!e.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:n.keepDirty?t.isDirty:n.keepDefaultValues?!Q(s,l):!1,isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:n.keepDirty?t.dirtyFields:n.keepDefaultValues&&s?Object.entries(s).reduce((u,[d,x])=>N(b({},u),{[d]:x!==f(l,d)}),{}):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(s,n={})=>{f(i,s)&&(S(n.defaultValue)?_e(s,f(l,s)):(_e(s,n.defaultValue),D(l,s,n.defaultValue)),n.keepTouched||R(t.touchedFields,s),n.keepDirty||(R(t.dirtyFields,s),t.isDirty=n.defaultValue?_(s,f(l,s)):_()),n.keepError||(R(t.errors,s),F.isValid&&L()),h.state.next(b({},t)))},clearErrors:ft,unregister:Ae,setError:dt,setFocus:(s,n={})=>{const a=f(i,s)._f,c=a.refs?a.refs[0]:a.ref;n.shouldSelect?c.select():c.focus()},getFieldState:pe}}function It(e={}){const r=k.useRef(),[t,i]=k.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});r.current?r.current.control._options=e:r.current=N(b({},Lt(e)),{formState:t});const l=r.current.control,o=k.useCallback(y=>{rt(y,l._proxyFormState,!0)&&(l._formState=b(b({},l._formState),y),i(b({},l._formState)))},[l]);return Ce({subject:l._subjects.state,callback:o}),k.useEffect(()=>{l._stateFlags.mount||(l._proxyFormState.isValid&&l._updateValid(),l._stateFlags.mount=!0),l._stateFlags.watch&&(l._stateFlags.watch=!1,l._subjects.state.next({})),l._removeUnmounted()}),r.current.formState=tt(t,l._proxyFormState),r.current}export{Nt as C,It as u};
